{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nexport const Cart = () => {\n  _s();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const addToCart = async (productId, quantity) => {\n    setIsLoading(true);\n    setError(null);\n    console.log(\"test\");\n    // Retrieve JWT token from local storage\n    const userJson = localStorage.getItem('user');\n\n    // Parse the JSON string to extract the token\n    const user = JSON.parse(userJson);\n    console.log(user);\n    const token = \"41241\";\n    try {\n      const response = await fetch('http://192.168.1.145:3002/cart/add', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          product_id: productId,\n          quantity: quantity\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n      }\n      const json = await response.json();\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return {\n    addToCart,\n    isLoading,\n    error\n  };\n};\n_s(Cart, \"TdgXzm3bV5WOR6TSvW/vB2ctGng=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["useState","Cart","_s","error","setError","isLoading","setIsLoading","addToCart","productId","quantity","console","log","userJson","localStorage","getItem","user","JSON","parse","token","response","fetch","method","headers","body","stringify","product_id","ok","errorData","json","Error","errorMessage","message","_c","$RefreshReg$"],"sources":["/Users/lukethompson/Documents/FullStackProject/frontend/src/hooks/Cart.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const Cart = () => {\n    const [error, setError] = useState(null);\n    const [isLoading, setIsLoading] = useState(false); \n\n    const addToCart = async (productId, quantity) => {\n        setIsLoading(true);\n        setError(null);\n        console.log(\"test\")\n        // Retrieve JWT token from local storage\n        const userJson = localStorage.getItem('user');\n\n        // Parse the JSON string to extract the token\n        const user = JSON.parse(userJson);\n        console.log(user);\n        const token = \"41241\"\n        try {\n            const response = await fetch('http://192.168.1.145:3002/cart/add', {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(\n                    {\n                        product_id: productId,\n                        quantity: quantity\n                    }\n                )\n                });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n            }\n\n            const json = await response.json();\n        } catch (error) {\n            setError(error.message);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return { addToCart, isLoading, error };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMO,SAAS,GAAG,MAAAA,CAAOC,SAAS,EAAEC,QAAQ,KAAK;IAC7CH,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,IAAI,CAAC;IACdM,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB;IACA,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;;IAE7C;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;IACjCF,OAAO,CAACC,GAAG,CAACI,IAAI,CAAC;IACjB,MAAMG,KAAK,GAAG,OAAO;IACrB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;QAC/DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,eAAe,EAAG,UAASJ,KAAM,EAAC;UAClC,cAAc,EAAE;QACpB,CAAC;QACDK,IAAI,EAAEP,IAAI,CAACQ,SAAS,CAChB;UACIC,UAAU,EAAEjB,SAAS;UACrBC,QAAQ,EAAEA;QACd,CACJ;MACA,CAAC,CAAC;MAEN,IAAI,CAACU,QAAQ,CAACO,EAAE,EAAE;QACd,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,YAAY,IAAI,+CAA+C,CAAC;MAC9F;MAEA,MAAMF,IAAI,GAAG,MAAMT,QAAQ,CAACS,IAAI,CAAC,CAAC;IACtC,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACZC,QAAQ,CAACD,KAAK,CAAC4B,OAAO,CAAC;IAC3B,CAAC,SAAS;MACNzB,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,OAAO;IAAEC,SAAS;IAAEF,SAAS;IAAEF;EAAM,CAAC;AAC1C,CAAC;AAACD,EAAA,CA5CWD,IAAI;AAAA+B,EAAA,GAAJ/B,IAAI;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}