{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nexport const UpdateCartQuantity = () => {\n  _s();\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  // Removes product from cart using API\n  const updateCartQuantity = async (productId, newQuantity) => {\n    // Retrieve token from storage\n    const userJson = localStorage.getItem('user');\n    const user = JSON.parse(userJson);\n    const token = user.token;\n\n    // Attempt to retrieve cart\n    try {\n      const response = await fetch(`http://192.168.1.145:3002/cart/updateItemQuantity`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          // Attach token in header for authentication\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          product_id: productId,\n          new_quantity: newQuantity\n        })\n      });\n\n      // Handle unsuccessful fetch\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n      }\n\n      // Handle successful fetch\n      if (response.ok) {\n        setIsSuccess(true);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return {\n    updateCartQuantity,\n    isSuccess\n  };\n};\n_s(UpdateCartQuantity, \"ViCTP4HHFAibUCy+MpSMNlNhics=\");\n_c = UpdateCartQuantity;\nvar _c;\n$RefreshReg$(_c, \"UpdateCartQuantity\");","map":{"version":3,"names":["useState","UpdateCartQuantity","_s","isSuccess","setIsSuccess","updateCartQuantity","productId","newQuantity","userJson","localStorage","getItem","user","JSON","parse","token","response","fetch","method","headers","body","stringify","product_id","new_quantity","ok","errorData","json","Error","errorMessage","error","console","log","_c","$RefreshReg$"],"sources":["/Users/lukethompson/Documents/FullStackProject/frontend/src/hooks/UpdateCartQuantity.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const UpdateCartQuantity = () => {\n    const [isSuccess, setIsSuccess] = useState(false);\n\n    // Removes product from cart using API\n    const updateCartQuantity = async(productId, newQuantity) => {\n        \n        // Retrieve token from storage\n        const userJson = localStorage.getItem('user');\n        const user = JSON.parse(userJson);\n        const token = user.token;\n\n        // Attempt to retrieve cart\n        try {\n            const response = await fetch(`http://192.168.1.145:3002/cart/updateItemQuantity`, {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${token}`, // Attach token in header for authentication\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(\n                {\n                    product_id: productId,\n                    new_quantity: newQuantity\n                }\n            )\n            });\n\n            // Handle unsuccessful fetch\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n            }\n\n            // Handle successful fetch\n            if (response.ok) {\n                setIsSuccess(true)\n            }\n        } catch (error) {\n            console.log(error);\n        } \n\n    }\n\n    return { updateCartQuantity, isSuccess };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA,MAAMK,kBAAkB,GAAG,MAAAA,CAAMC,SAAS,EAAEC,WAAW,KAAK;IAExD;IACA,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC7C,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;IACjC,MAAMM,KAAK,GAAGH,IAAI,CAACG,KAAK;;IAExB;IACA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mDAAkD,EAAE;QAClFC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,eAAe,EAAG,UAASJ,KAAM,EAAC;UAAE;UACpC,cAAc,EAAE;QACpB,CAAC;QACDK,IAAI,EAAEP,IAAI,CAACQ,SAAS,CAChB;UACIC,UAAU,EAAEf,SAAS;UACrBgB,YAAY,EAAEf;QAClB,CACJ;MACA,CAAC,CAAC;;MAEF;MACA,IAAI,CAACQ,QAAQ,CAACQ,EAAE,EAAE;QACd,MAAMC,SAAS,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,YAAY,IAAI,+CAA+C,CAAC;MAC9F;;MAEA;MACA,IAAIZ,QAAQ,CAACQ,EAAE,EAAE;QACbnB,YAAY,CAAC,IAAI,CAAC;MACtB;IACJ,CAAC,CAAC,OAAOwB,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EAEJ,CAAC;EAED,OAAO;IAAEvB,kBAAkB;IAAEF;EAAU,CAAC;AAC5C,CAAC;AAACD,EAAA,CA5CWD,kBAAkB;AAAA8B,EAAA,GAAlB9B,kBAAkB;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}