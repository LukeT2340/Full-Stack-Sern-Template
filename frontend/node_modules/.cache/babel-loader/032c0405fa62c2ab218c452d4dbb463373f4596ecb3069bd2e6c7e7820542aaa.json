{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nexport const RemoveFromCart = () => {\n  _s();\n  const [isSuccess, setIsSuccess] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(null);\n\n  // Removes product from cart using API\n  const removeFromCart = async product_id => {\n    setIsLoading(true);\n    setError(null);\n\n    // Retrieve token from storage\n    const userJson = localStorage.getItem('user');\n    const user = JSON.parse(userJson);\n    const token = user.token;\n\n    // Attempt to retrieve cart\n    try {\n      const response = await fetch(`http://192.168.1.145:3002/cart/removeEntry`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          // Attach token in header for authentication\n          'Content-Type': 'application/json'\n        },\n        body: {\n          product_id: product_id\n        }\n      });\n\n      // Handle unsuccessful fetch\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n      }\n\n      // Handle successful fetch\n      if (response.ok) {\n        setIsSuccess(true);\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return {\n    removeFromCart,\n    isSuccess\n  };\n};\n_s(RemoveFromCart, \"vpieZC1cfPTSK5Noid77zafcoOE=\");\n_c = RemoveFromCart;\nvar _c;\n$RefreshReg$(_c, \"RemoveFromCart\");","map":{"version":3,"names":["useState","RemoveFromCart","_s","isSuccess","setIsSuccess","error","setError","isLoading","setIsLoading","removeFromCart","product_id","userJson","localStorage","getItem","user","JSON","parse","token","response","fetch","method","headers","body","ok","errorData","json","Error","errorMessage","message","_c","$RefreshReg$"],"sources":["/Users/lukethompson/Documents/FullStackProject/frontend/src/hooks/RemoveFromCart.js"],"sourcesContent":["import { useState } from 'react';\n\nexport const RemoveFromCart = () => {\n    const [isSuccess, setIsSuccess] = useState(null);\n    const [error, setError] = useState(null);\n    const [isLoading, setIsLoading] = useState(null);\n\n    // Removes product from cart using API\n    const removeFromCart = async(product_id) => {\n        setIsLoading(true);\n        setError(null);\n\n        // Retrieve token from storage\n        const userJson = localStorage.getItem('user');\n        const user = JSON.parse(userJson);\n        const token = user.token;\n\n        // Attempt to retrieve cart\n        try {\n            const response = await fetch(`http://192.168.1.145:3002/cart/removeEntry`, {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${token}`, // Attach token in header for authentication\n                'Content-Type': 'application/json'\n            },\n            body: {\n                product_id: product_id\n            }\n            });\n\n            // Handle unsuccessful fetch\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.errorMessage || 'Unknown server error. Please try again later.');\n            }\n\n            // Handle successful fetch\n            if (response.ok) {\n                setIsSuccess(true);\n            }\n        } catch (error) {\n            setError(error.message);\n        } finally {\n            setIsLoading(false);\n        }\n\n    }\n\n    return { removeFromCart, isSuccess };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;;EAEhD;EACA,MAAMS,cAAc,GAAG,MAAMC,UAAU,IAAK;IACxCF,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,IAAI,CAAC;;IAEd;IACA,MAAMK,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC7C,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;IACjC,MAAMM,KAAK,GAAGH,IAAI,CAACG,KAAK;;IAExB;IACA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,4CAA2C,EAAE;QAC3EC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,eAAe,EAAG,UAASJ,KAAM,EAAC;UAAE;UACpC,cAAc,EAAE;QACpB,CAAC;QACDK,IAAI,EAAE;UACFZ,UAAU,EAAEA;QAChB;MACA,CAAC,CAAC;;MAEF;MACA,IAAI,CAACQ,QAAQ,CAACK,EAAE,EAAE;QACd,MAAMC,SAAS,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,YAAY,IAAI,+CAA+C,CAAC;MAC9F;;MAEA;MACA,IAAIT,QAAQ,CAACK,EAAE,EAAE;QACbnB,YAAY,CAAC,IAAI,CAAC;MACtB;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,QAAQ,CAACD,KAAK,CAACuB,OAAO,CAAC;IAC3B,CAAC,SAAS;MACNpB,YAAY,CAAC,KAAK,CAAC;IACvB;EAEJ,CAAC;EAED,OAAO;IAAEC,cAAc;IAAEN;EAAU,CAAC;AACxC,CAAC;AAACD,EAAA,CA/CWD,cAAc;AAAA4B,EAAA,GAAd5B,cAAc;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}